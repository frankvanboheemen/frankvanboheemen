<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
    <title>coordinating flows with protocols</title>

<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="/css/reset.css" media="screen" />
<link rel="stylesheet" type="text/css" href="/css/style.css" media="screen" />
<link href='https://fonts.googleapis.com/css?family=Lato:400,100,300italic,300,900' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Raleway:400,100,100italic,200,200italic,300,300italic,400italic,500,500italic,600italic,600,700,700italic,800,800italic,900,900italic' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="/js/jquery.min.js"></script>


</head>

<body>
	<a href="/index.html" class="inactiveLink"><img src="/images/logo.png" id="logoProjectPage"></a>
	<section>
  	<div id="header-image" style="background-image: url('/images/coordinators/main.jpg')" ></div>
  	<div class ="content projectPost">
  		<h1 class="postTitle" style="margin-bottom:0.1rem;">coordinating flows with protocols</h1>
  		<h4 class="postDescription" style="text-align: center; margin-top:0; margin-bottom: 2.5rem;"> A way to provide structure to your code.</h4>
  		
  			<div class="keywords">
			<h4 class="rowTitle">Keywords:</h4><p class="keyword">App development</p><p class="keyword">iOS</p><p class="keyword">Swift</p><p class="keyword">Software architecture</p>
    		</div>
    		<div style="clear:both"></div>

    	
    	

    		<h4 class="rowTitle">Commissioned by: </h4><p class="keyword">Noodlewerk</p>
    		<div style="clear:both"></div>
    	

    	<h3 id="concept">Concept</h3>

<blockquote>
  <p>A new and refreshing look on app-architecture for apps in Swift (and Xcode) from the perspective of a UX-designer.</p>
</blockquote>

<p>On the one hand it supports user flows which require users to go through several views to reach their goal. And on the other hand it combines modularity and reusability with the practicality of storyboards in Xcode.</p>

<p>Additionally, this way of structuring your code also allows you to communicate more effectively with the various types of members of a scrum-team, including the less technical members (because of the visual advantages of using storyboards), while at the same time preventing merge conflicts in Git when team members work on different features simultaneously.</p>

<h3 id="how-this-project-came-about">How this project came about</h3>

<p>This is the type of project that originated from a couple of completely unrelated things coming together. During my time at Noodlewerk, next to designing apps, I was also building them. Not having much experience developing native apps for iOS, I was trying to learn as much as possible about fulfilling the role of an iOS-developer. So I was not only learning a lot about Swift, but also about workflows, including Git and working together with others in an Agile way.</p>

<p>At that time I was working on <a href="/projects/feedMe/">Feed Me</a> and I was right at the point that I needed to think about sustainable architecture for the app. I happened to be reading ‘Get Agile!’ by Pieter Jongerius et al (of Fabrique), and I came across <a href="https://www.youtube.com/watch?v=j6bb6nU1RVw">this talk</a> from Niels van Hoorn about <a href="https://github.com/nvh/Coordinating-presentation">Protocol Oriented Coordinators</a> which was all about a way to provide structure in the code of a single view. It was the combination of these three things that made me come up with <strong>coordinating flows with protocols</strong>.</p>

<h3 id="why-feed-me-needed-different-architecture">Why Feed Me needed different architecture</h3>

<p>The reason behind the need for custom-made architecture can be traced back to the interaction qualities from the UX-vision; Feed Me needed to be guiding and have as little friction as possible.</p>

<p><img class="big" src="/images/coordinators/create-child-flow.png" /></p>

<p>For example, this resulted in the flow for child profile creation being divided into multiple views with only one question per view (as shown in the image above), making the cognitive load as low as possible. From a usability perspective this was the right way to go, but from a technical point of view it made things a bit more complex than preferred; with this strategy doing one thing (creating a profile for a child) has been divided over multiple views with multiple view controllers and, if I had used Niels’ Protocol Oriented Coordinators, multiple coordinators.</p>

<h3 id="my-solution">My solution</h3>

<p>Instead of having one coordinator for each view, I devised a way to have <em>one coordinator for one user flow</em>, even when that flow has multiple views. By doing so, hierachically the different elements are related as shown in the scheme below. This also required me to create a lifecycle for such a coordinator with multiple options for the start and end of the lifecycle. If you are interested, I have distilled the logic of the coordinators into a <a href="https://github.com/frankvanboheemen/Coordinating-flows-with-protocols">separate Xcode-project</a>.</p>

<p><img class="small" src="/images/coordinators/coordinator-explained.png" /></p>


  	</div>
  </section>

<section id="projects" class="projectSection">


<article class="single-project-small">
<a href="/projects/feedme" class="project" style="background-image: url('/images/feedme/main.jpg')">
	<div class="project-overlay ">
		<h4 class="project-title">Feed Me</h4>
		<h6 class="project-description">Tracking nutrition, sleep, diapers and medicine use of your newborn.</h6>
</div>
</a>

</article>
    
<article class="single-project-small">
<a href="/projects/coordinators" class="project" style="background-image: url('/images/coordinators/main.jpg')">
	<div class="project-overlay ">
		<h4 class="project-title">coordinating flows with protocols</h4>
		<h6 class="project-description">A way to provide structure to your code.</h6>
</div>
</a>

</article>
    
<article class="single-project-small">
<a href="/projects/headphones" class="project" style="background-image: url('/images/headphones/main.jpg')">
	<div class="project-overlay ">
		<h4 class="project-title">Headphones</h4>
		<h6 class="project-description">3D-printed headphone enbodiment.</h6>
</div>
</a>

</article>
    
<article class="single-project-small">
<a href="/projects/diem" class="project" style="background-image: url('/images/diem/main.jpg')">
	<div class="project-overlay ">
		<h4 class="project-title">Diem</h4>
		<h6 class="project-description">A smart house that cares for you.</h6>
</div>
</a>

</article>
    
<article class="single-project-small">
<a href="/projects/statenGeneraal" class="project" style="background-image: url('/images/statenGeneraal/main.jpg')">
	<div class="project-overlay ">
		<h4 class="project-title">200th anniversary of the Dutch government</h4>
		<h6 class="project-description">Applications for iPads in an interactive exposition.</h6>
</div>
</a>

</article>
    
<article class="single-project-small">
<a href="/projects/snapture" class="project" style="background-image: url('/images/snapture/main.jpg')">
	<div class="project-overlay ">
		<h4 class="project-title">Snapture!</h4>
		<h6 class="project-description">Making digital data tangible.</h6>
</div>
</a>

</article>
    
<article class="single-project-small">
<a href="/projects/fromHatsToHeels" class="project" style="background-image: url('/images/fromHatsToHeels/main.jpg')">
	<div class="project-overlay ">
		<h4 class="project-title">From Hats To Heels</h4>
		<h6 class="project-description">Personal branding by creating a website</h6>
</div>
</a>

</article>
    
<article class="single-project-small">
<a href="/projects/gloombot" class="project" style="background-image: url('/images/gloombot/main.jpg')">
	<div class="project-overlay ">
		<h4 class="project-title">Gloombot</h4>
		<h6 class="project-description">A robot that is just gloomy, nothing more...</h6>
</div>
</a>

</article>
    
<article class="single-project-small">
<a href="/projects/odeToDieter" class="project" style="background-image: url('/images/odeToDieter/main.jpg')">
	<div class="project-overlay ">
		<h4 class="project-title">Ode to Dieter Rams</h4>
		<h6 class="project-description">a DIY Bluetooth speaker.</h6>
</div>
</a>

</article>
    
<article class="single-project-small">
<a href="/projects/12chair" class="project" style="background-image: url('/images/12chair/main.jpg')">
	<div class="project-overlay ">
		<h4 class="project-title">1-2-Chair</h4>
		<h6 class="project-description">1 design, 2 chairs.</h6>
</div>
</a>

</article>
    
</section>


<footer class="site-footer" id="contact">
		<a href="mailto:frankvb@gmail.com" id="emailbutton">Mail me!</a>
		<p class="designCredits">I designed and built this website.</p>
</footer>
</body>
<script> 
	var ratio = 0.6;  // Used for aspect ratio

	function Resizing() {
		var totalWidth = 0;
		var totalProjects = 0;
		$('.single-project-small').each(function() {
			totalWidth = totalWidth + $(this).width();
			totalProjects = totalProjects + 1;
		});

		var meanWidth = totalWidth/ totalProjects;

		var amountOfRows = Math.ceil(totalProjects / 3)



		$('.single-project-small').each(function() {
			var width = meanWidth;

			var preferredHeight = Math.floor(width * ratio)
			$(this).css("height", preferredHeight +"px");   // Set new height
		});

		$('.projectSection').each(function() {
			$(this).css("height", (amountOfRows * meanWidth * ratio) +"px");
		})

		$('.normalVideo').each(function() {
			var width = $(this).width();
			$(this).css("height", (width * (93/128)) +"px");
		})

		$('.wideVideo').each(function() {
			var width = $(this).width();
			$(this).css("height", (width * (9/16)) +"px");
		})
	}

	$(document).ready(function() {
		Resizing();
		$('#site-navigation').onePageNav();
		$("a.project").each(function() {
    		$(this).children("div.project-overlay").removeClass("project-hightlighted");
		});

	});

	$(window).resize(function() {
		Resizing();
	});


	$( "a.project" ).hover(
		function() {
  			$(this).children("div.project-overlay").addClass("project-hightlighted");
		}, function() {
    		$(this).children("div.project-overlay").removeClass("project-hightlighted");
		}
	);
</script>
</html>
